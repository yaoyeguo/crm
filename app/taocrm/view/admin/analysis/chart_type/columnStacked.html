<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>amCharts examples</title>
        <link rel="stylesheet" href="style.css" type="text/css">
        <script src="<{$env.app.res_url}>/amcharts/amcharts.js" type="text/javascript"></script>        
        <script type="text/javascript">
            var chart;

            var chartData = <{$chartData}>;

            AmCharts.ready(function () {
                // SERIAL CHART
                chart = new AmCharts.AmSerialChart();
                chart.dataProvider = chartData;
                chart.categoryField = "x";
                chart.plotAreaBorderAlpha = 0.2;
                chart.depth3D = 5;//立体度设置
                //chart.angle = 30;
                chart.fontSize = 12;

                // AXES
                // category
                var categoryAxis = chart.categoryAxis;
                categoryAxis.gridAlpha = 0.1;
                categoryAxis.axisAlpha = 0;
                categoryAxis.gridPosition = "start";

                // value
                var valueAxis = new AmCharts.ValueAxis();
                valueAxis.stackType = "regular";
                valueAxis.gridAlpha = 0.1;
                valueAxis.axisAlpha = 0;
                chart.addValueAxis(valueAxis);
                
                // value
                var valueAxis2 = new AmCharts.ValueAxis();
                valueAxis2.stackType = "regular";
                valueAxis2.gridAlpha = 0.1;
                valueAxis2.axisAlpha = 0;
                valueAxis2.position = "right";
                chart.addValueAxis(valueAxis2);

                // GRAPHS
                // first graph    
                var graph = new AmCharts.AmGraph();
                graph.title = "<{$chartLabel.y1}>";
                //graph.labelText = "[[value]]";
                graph.balloonText = "<{$chartLabel.y1}>:[[value]]";
                graph.valueField = "y1";
                graph.type = "column";
                graph.lineAlpha = 0;
                graph.fillAlphas = 1;
                //graph.lineColor = "#C72C95";
                chart.addGraph(graph);

                // second graph              
                graph = new AmCharts.AmGraph();
                graph.title = "<{$chartLabel.y2}>";
                //graph.labelText = "[[value]]";
                graph.balloonText = "<{$chartLabel.y2}>:[[value]]";
                graph.valueField = "y2";
                graph.type = "column";
                graph.lineAlpha = 0;
                graph.fillAlphas = 1;
                //graph.lineColor = "#D8E0BD";
                chart.addGraph(graph);

                // third graph                              
                graph = new AmCharts.AmGraph();
                graph.title = "<{$chartLabel.y3}>";
                //graph.labelText = "[[value]]";
                graph.valueField = "y3";
                graph.type = "line";
                graph.lineAlpha = 1;
                graph.fillAlphas = 0;
                graph.lineThickness = 3;
                //graph.lineColor = "#B3DBD4";
                graph.balloonText = "<{$chartLabel.y3}>:[[value]]%";
                //graph.legendValueText = "[[value]]";
                graph.bullet = "round";//坐标点的形状：square
                graph.bulletColor = "#F8FF01";
                graph.valueAxis = valueAxis2;
                chart.addGraph(graph);
                
                

                // LEGEND                  
                var legend = new AmCharts.AmLegend();
                legend.borderAlpha = 0;
                legend.horizontalGap = 10;
                legend.equalWidths = false;
                chart.addLegend(legend);
                
                // CURSOR
                var chartCursor = new AmCharts.ChartCursor();//鼠标线
                //chartCursor.cursorPosition = "mouse";//鼠标线的位置，跟随鼠标或自动对齐
                chart.addChartCursor(chartCursor);

                // WRITE
                chart.write("chartdiv");
            });

        </script>
    </head>
    
    <body>
        <div id="chartdiv" style="width: 100%; height: 320px;"></div>
    </body>

</html>